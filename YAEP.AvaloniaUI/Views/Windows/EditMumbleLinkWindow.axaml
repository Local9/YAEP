<sukiUi:SukiWindow xmlns="https://github.com/avaloniaui"
        xmlns:sukiUi="clr-namespace:SukiUI.Controls;assembly=SukiUI"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="using:YAEP.ViewModels.Pages"
        xmlns:local="using:YAEP.Models"
        xmlns:helpers="using:YAEP.Helpers"
        mc:Ignorable="d" d:DesignWidth="500" d:DesignHeight="300"
        x:Class="YAEP.Views.Windows.EditMumbleLinkWindow"
        x:DataType="vm:MumbleLinksViewModel"
        Title="Edit Mumble Link"
        Width="500"
        Height="300"
        WindowStartupLocation="CenterOwner"
        CanResize="True">
    <Window.Resources>
        <helpers:StringToVisibilityConverter x:Key="StringToVisibilityConverter" />
    </Window.Resources>
    <ScrollViewer>
        <StackPanel Margin="24">
            <TextBlock
                FontSize="20"
                FontWeight="Medium"
                Text="Edit Mumble Link" />
            <TextBlock
                Margin="0,8,0,0"
                FontSize="12"
                Opacity="0.7"
                Text="Edit the name and URL for this Mumble link." />
            
            <TextBlock
                Margin="0,24,0,0"
                Text="Name:" />
            <TextBox
                Margin="0,8,0,0"
                Text="{Binding EditingLinkName}" />
            
            <TextBlock
                Margin="0,16,0,0"
                Text="URL:" />
            <TextBox
                Margin="0,8,0,0"
                Text="{Binding EditingLinkUrl}" />
            
            <TextBlock
                Margin="0,16,0,0"
                Text="Server group:" />
            <ComboBox
                Margin="0,8,0,0"
                ItemsSource="{Binding ServerGroupChoicesForEdit}"
                SelectedItem="{Binding SelectedEditingGroupChoice}">
                <ComboBox.ItemTemplate>
                    <DataTemplate DataType="local:MumbleServerGroupChoice">
                        <TextBlock Text="{Binding Name}" />
                    </DataTemplate>
                </ComboBox.ItemTemplate>
            </ComboBox>
            
            <TextBlock
                Margin="0,16,0,0"
                Text="Hotkey (optional):" />
            <StackPanel Margin="0,8,0,0" Orientation="Horizontal">
                <Button
                    MinWidth="180"
                    HorizontalAlignment="Left"
                    Command="{Binding StartCaptureMumbleHotkeyCommand}"
                    ToolTip.Tip="Click then press the key combination">
                    <TextBlock Text="{Binding EditingLinkHotkey, TargetNullValue='Click to set hotkey...'}" />
                </Button>
                <Button
                    Margin="8,0,0,0"
                    Command="{Binding StopCaptureMumbleHotkeyCommand}"
                    Content="Cancel"
                    IsVisible="{Binding IsCapturingMumbleHotkey}" />
                <Button
                    Margin="8,0,0,0"
                    Command="{Binding ClearMumbleHotkeyCommand}"
                    Content="Clear"
                    IsEnabled="{Binding EditingLinkHotkey, Converter={StaticResource StringToVisibilityConverter}}" />
            </StackPanel>
            
            <StackPanel
                Margin="0,24,0,0"
                Orientation="Horizontal"
                HorizontalAlignment="Right">
                <Button
                    Margin="0,0,8,0"
                    Command="{Binding SaveEditLinkCommand}"
                    Content="Save" />
                <Button
                    Command="{Binding CancelEditLinkCommand}"
                    Content="Cancel" />
            </StackPanel>
        </StackPanel>
    </ScrollViewer>
</sukiUi:SukiWindow>

